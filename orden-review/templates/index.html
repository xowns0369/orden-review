<!DOCTYPE html>
<html lang="ko">
<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4359299133413391"
     crossorigin="anonymous"></script>
  <link rel="icon" href="{{ url_for('static', filename='favicon.png') }}" type="image/png">

  <meta name="naver-site-verification" content="fb87b54cac318d15ea544395140c81fa65137d2f" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>ì¸ì²œ ì„œêµ¬ Â· ê²€ë‹¨ ì •í˜•ì™¸ê³¼, ì¹˜ê³¼ ì¶”ì²œ - ì„œêµ¬, ê²€ë‹¨, ì²­ë¼ë™, ê°€ì •ë™, ì„ë‚¨ë™, ì•„ë¼ë™, ë‹¹í•˜ë™, ì›ë‹¹ë™ ì •í˜•ì™¸ê³¼, ì¹˜ê³¼ ì¶”ì²œ</title>
  <meta name="description" content="ì¸ì²œ ì„œêµ¬ Â· ê²€ë‹¨ ì •í˜•ì™¸ê³¼, ì¹˜ê³¼ ì¶”ì²œ ë³‘ì› ì¶”ì²œ, ì˜ì› ì¶”ì²œ">
  <meta name="keywords" content="ì¸ì²œ, ì„œêµ¬, ê²€ë‹¨, ê²€ë‹¨êµ¬, ë‹¹í•˜ë™, ì²­ë¼ë™, ê°€ì •ë™, ì›ë‹¹ë™, ë‹¹í•˜ë™, ì•„ë¼ë™, ì •í˜•ì™¸ê³¼, ì¹˜ê³¼, ë³‘ì›, ë³‘ì›ì¶”ì²œ, ì˜ì›ì¶”ì²œ">

  <meta property="og:title" content="ì¸ì²œ ì„œêµ¬ Â· ê²€ë‹¨ ì •í˜•ì™¸ê³¼, ì¹˜ê³¼ ì¶”ì²œ">
  <meta property="og:description" content="ì¸ì²œ ì„œêµ¬ Â· ê²€ë‹¨ ì •í˜•ì™¸ê³¼ ë³‘ì› ë¦¬ë·° ë° í‰ì  ">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ request.url }}">
  <meta property="og:image" content="{{ url_for('static', filename='og-image.png', _external=True) }}">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ì¸ì²œ ì„œêµ¬ Â· ê²€ë‹¨ ì •í˜•ì™¸ê³¼, ì¹˜ê³¼ ì¶”ì²œ">
  <meta name="twitter:description" content="ì¸ì²œ ì„œêµ¬ Â· ê²€ë‹¨ ì •í˜•ì™¸ê³¼, ì¹˜ê³¼  ë¦¬ë·° ë° í‰ì  | ì„œêµ¬ ê²€ë‹¨ ì²­ë¼ë™ ë‹¹í•˜ë™ ì›ë‹¹ë™ ì¹˜ê³¼ ì •í˜•ì™¸ê³¼ ì¶”ì²œ">
  <meta name="twitter:image" content="{{ url_for('static', filename='og-image.png', _external=True) }}">

  <style>
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f9f9f9; margin: 20px; padding: 0; }
    h1 { text-align: center; margin-bottom: 30px; color: #2c3e50; }
    .container { display: grid; grid-template-columns: repeat(1, 1fr); gap: 20px; max-width: 800px; margin: 0 auto; }
    @media screen and (min-width: 768px) { .container { grid-template-columns: repeat(2, 1fr); } }
    .hospital-card { background-color: #fff; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); padding: 20px; transition: box-shadow 0.3s ease; display: flex; flex-direction: column; justify-content: space-between; }
    .hospital-card:hover { box-shadow: 0 6px 15px rgba(0,0,0,0.15); }
    .hospital-name { font-size: 1.3rem; font-weight: 700; color: #34495e; margin-bottom: 5px; }
    .hospital-address { font-size: 0.9rem; color: #7f8c8d; margin-bottom: 12px; min-height: 40px; }
    .keywords { margin-bottom: 12px; }
    .tag { display: inline-block; background-color: #3498db; color: #fff; padding: 5px 10px; margin: 3px 5px 3px 0; border-radius: 20px; font-size: 0.85rem; }
    .rating { font-size: 1rem; color: #e67e22; font-weight: 600; margin-bottom: 12px; }
    .button-group { display: flex; gap: 10px; }
    .review-btn, .view-btn { flex: 1; padding: 8px 12px; text-align: center; font-size: 0.85rem; font-weight: 500; text-decoration: none; border-radius: 6px; color: white; transition: background-color 0.3s ease; }
    .review-btn { background-color: #a1e679; }
    .review-btn:hover { background-color: #8ac45e; }
    .view-btn { background-color: #31d146; }
    .view-btn:hover { background-color: #d6f014; }
    .btn { display: inline-block; margin: 5px; padding: 8px 16px; border-radius: 20px; background: #ecf0f1; color: #2c3e50; text-decoration: none; font-weight: 600; transition: 0.2s; }
    .btn:hover { background: #3498db; color: #fff; }
    .btn.active { background: #2980b9; color: #fff; }
  </style>
</head>

<body>
  <div style="position:fixed; top:10px; left:10px; font-weight:bold;">
    ì˜¤ëŠ˜ ë°©ë¬¸ì ìˆ˜: {{ visit_count }}
  </div>

  <h1>ì¸ì²œ ì„œêµ¬ Â· ê²€ë‹¨ ì •í˜•ì™¸ê³¼, ì¹˜ê³¼ ì¶”ì²œ</h1>
<footer style="margin-top: 50px; padding: 20px; background-color: #fef8f8; font-size: 13px; color: #363333; text-align: center; line-height: 1.6;">
    ì—…ë°ì´íŠ¸2025ë…„08ì›”<br>
    ì •í˜•ì™¸ê³¼ ì¶œì‹  ìš´ì˜ìê°€ ì˜ë£Œ í˜„ì¥ì˜ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ì´ìš©ì— ë„ì›€ì´ ë˜ëŠ” ë¦¬ë·°ë§Œ ì„ ë³„í–ˆìŠµë‹ˆë‹¤ <br>
  </footer>  

<!-- âœ… í•„í„° ì˜ì—­ -->
<div class="filter" style="text-align:center; margin: 26px 0;">
  <form method="get" action="/">

     <!-- ì§„ë£Œê³¼ ì„ íƒ -->
    <label for="category">ì§„ë£Œê³¼ ì„ íƒ: </label>
    <select name="category" id="category">
      <option value="">ì „ì²´</option>
      <option value="ì •í˜•ì™¸ê³¼" {% if selected_category == "ì •í˜•ì™¸ê³¼" %}selected{% endif %}>ì •í˜•ì™¸ê³¼</option>
      <option value="ì¹˜ê³¼" {% if selected_category == "ì¹˜ê³¼" %}selected{% endif %}>ì¹˜ê³¼</option>
    </select>

    <!-- êµ¬ ì„ íƒ -->
    <label for="gu">êµ¬ ì„ íƒ: </label>
    <select name="gu" id="gu">
      <option value="">ì „ì²´</option>
      {% for g in region_dict.keys() %}
        <option value="{{ g }}" {% if selected_gu == g %}selected{% endif %}>{{ g }}</option>
      {% endfor %}
    </select>

    <!-- í–‰ì •ë™ ì„ íƒ -->
    <label for="region">í–‰ì •ë™ ì„ íƒ: </label>
    <select name="region" id="region">
      <option value="">ì „ì²´</option>
      {% if selected_gu %}
        {% for dong in region_dict[selected_gu] %}
          <option value="{{ dong }}" {% if selected_region == dong %}selected{% endif %}>{{ dong }}</option>
        {% endfor %}
      {% endif %}
    </select>

    <button type="submit">ê²€ìƒ‰</button>
  </form>
</div>

<!-- âœ… JS: êµ¬ ì„ íƒ ì‹œ í–‰ì •ë™ ì˜µì…˜ ë™ì ìœ¼ë¡œ ë³€ê²½ ë° ê¸°ì¡´ ì„ íƒê°’ ìœ ì§€ -->
<script>
  const regionDict = {{ region_dict|tojson }};
  const guSelect = document.getElementById("gu");
  const regionSelect = document.getElementById("region");
  const selectedRegion = "{{ selected_region|default('') }}"; // ê¸°ì¡´ ì„ íƒê°’

  guSelect.addEventListener("change", function () {
    const selectedGu = this.value;
    regionSelect.innerHTML = '<option value="">ì „ì²´</option>'; // ì´ˆê¸°í™”

    if (selectedGu && regionDict[selectedGu]) {
      regionDict[selectedGu].forEach(function (dong) {
        const option = document.createElement("option");
        option.value = dong;
        option.textContent = dong;
        // ê¸°ì¡´ ì„ íƒê°’ ìœ ì§€
        if (dong === selectedRegion) {
          option.selected = true;
        }
        regionSelect.appendChild(option);
      });
    }
  });
</script>


  <!-- âœ… ë³‘ì› ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ -->
  <div class="container">
    {% for hospital in hospitals %}
      <div class="hospital-card">
        <div>
          <div class="hospital-name">{{ hospital.name }}</div>
          <div class="hospital-address">{{ hospital.address }}</div>
          <div class="keywords">
            {% for keyword in hospital.keywords %}
              <span class="tag">{{ keyword }}</span>
            {% endfor %}
          </div>
          <div class="rating">í‰ì : {{ hospital.rating }}/10</div>
        </div>
        <div class="button-group">
          <a class="view-btn" href="/hospital/{{ hospital.name }}">ğŸ‘€ ë¦¬ë·° ë³´ê¸°</a>
          {% if hospital.website %}
            <a class="review-btn" href="{{ hospital.website }}" target="_blank">ğŸŒ í™ˆí˜ì´ì§€</a>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>

  <footer style="margin-top: 50px; padding: 20px; background-color: #f0f0f0; font-size: 13px; color: #666; text-align: center; line-height: 1.6;">
    â€»ë³¸ ì‚¬ì´íŠ¸ëŠ” ê°œì¸ ê²½í—˜ ë° ì‚¬ìš©ì ì œê³µ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì •ë³´ ì •ë¦¬ í”Œë«í¼ì´ë©°,<br>
    ì˜ë£Œê¸°ê´€ì˜ ì „ë¬¸ì„±, ì¹˜ë£Œ ì„±ê³¼ ë˜ëŠ” ì˜ë£Œì§„ì— ëŒ€í•œ ì§ì ‘ì ì¸ í‰ê°€ ë˜ëŠ” ê´‘ê³ ë¥¼ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
    â€»ë³‘ì› ì„ íƒì€ ì´ìš©ì ë³¸ì¸ì˜ íŒë‹¨ê³¼ ì±…ì„ì— ë”°ë¥´ë©°, ì˜ë£Œ ìƒë‹´ì€ í•´ë‹¹ ë³‘ì› ë˜ëŠ” ì „ë¬¸ì˜ì™€ ì§ì ‘ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
  </footer>
</body>
</html>
